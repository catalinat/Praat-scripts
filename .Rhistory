<<<<<<< HEAD
fix_textgrids_in_directory("/Users/catalinat/Desktop/TextGrids")
=======
fix_textgrids_in_directory("/Users/catalinat/Desktop/PhrasesDeuxVitesses_4/Garçons/TextGrids")
>>>>>>> 158b185c388aa2f9b343c237962d5b01b4f3ed6c
remove_text_from_tier_2 <- function(source_file){
text_grid <-  readLines(source_file)
new_text_grid = c()
in_tier_2 <- FALSE
for (row in text_grid){
if(grepl("item [2]:", row, fixed=TRUE)){
in_tier_2 <- TRUE
}
if(grepl("item [3]:", row, fixed=TRUE)){
in_tier_2 <- FALSE
}
if(in_tier_2){
row <- gsub("text = \".*\"", "text = \"\"", row)
}
new_text_grid <- c(new_text_grid, row)
}
dest_dir <- paste(dirname(source_file), "fixed", sep = '/')
dir.create(dest_dir, showWarnings = FALSE)
dest_file <- paste(dest_dir, basename(source_file), sep = '/')
fileConn<-file(dest_file)
writeLines(new_text_grid, fileConn)
close(fileConn)
sprintf("File %s fixed and saved to %s",source_file, dest_file)
}
fix_textgrids_in_directory <- function(directory){
for (f in list.files(directory, full.names = TRUE, pattern = ".+TextGrid")) {
remove_text_from_tier_2(f)
}
}
<<<<<<< HEAD
fix_textgrids_in_directory("/Users/catalinat/Desktop/PhrasesDeuxVitesses_4/Garçons/TextGrids")
=======
fix_textgrids_in_directory("/Users/catalinat/Desktop/PhrasesDeuxVitesses_4/Filles/TextGrids")
>>>>>>> 158b185c388aa2f9b343c237962d5b01b4f3ed6c
remove_text_from_tier_2 <- function(source_file){
text_grid <-  readLines(source_file)
new_text_grid = c()
in_tier_2 <- FALSE
for (row in text_grid){
if(grepl("item [2]:", row, fixed=TRUE)){
in_tier_2 <- TRUE
}
if(grepl("item [3]:", row, fixed=TRUE)){
in_tier_2 <- FALSE
}
if(in_tier_2){
row <- gsub("text = \".*\"", "text = \"\"", row)
}
new_text_grid <- c(new_text_grid, row)
}
dest_dir <- paste(dirname(source_file), "fixed", sep = '/')
dir.create(dest_dir, showWarnings = FALSE)
dest_file <- paste(dest_dir, basename(source_file), sep = '/')
fileConn<-file(dest_file)
writeLines(new_text_grid, fileConn)
close(fileConn)
sprintf("File %s fixed and saved to %s",source_file, dest_file)
}
# Find multiple files in directory
fix_textgrids_in_directory <- function(directory){
for (f in list.files(directory, full.names = TRUE, pattern = ".+TextGrid")) {
remove_text_from_tier_2(f)
}
}
<<<<<<< HEAD
fix_textgrids_in_directory("/Users/catalinat/Desktop/PhrasesDeuxVitesses_4/Filles/TextGrids")
=======
# Select directory to be used
fix_textgrids_in_directory("/Users/catalinat/Desktop/new/NewTextGrids")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalinat/Desktop/new/NewTextGrids")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalinat/Desktop/new/NewTextGrids")
>>>>>>> 158b185c388aa2f9b343c237962d5b01b4f3ed6c
remove_text_from_tier_2 <- function(source_file){
text_grid <-  readLines(source_file)
new_text_grid = c()
in_tier_2 <- FALSE
for (row in text_grid){
if(grepl("item [2]:", row, fixed=TRUE)){
in_tier_2 <- TRUE
}
if(grepl("item [3]:", row, fixed=TRUE)){
in_tier_2 <- FALSE
}
if(in_tier_2){
row <- gsub("text = \".*\"", "text = \"\"", row)
}
new_text_grid <- c(new_text_grid, row)
}
dest_dir <- paste(dirname(source_file), "fixed", sep = '/')
dir.create(dest_dir, showWarnings = FALSE)
dest_file <- paste(dest_dir, basename(source_file), sep = '/')
fileConn<-file(dest_file)
writeLines(new_text_grid, fileConn)
close(fileConn)
sprintf("File %s fixed and saved to %s",source_file, dest_file)
}
# Find multiple files in directory
fix_textgrids_in_directory <- function(directory){
for (f in list.files(directory, full.names = TRUE, pattern = ".+TextGrid")) {
remove_text_from_tier_2(f)
}
}
# Select directory to be used
<<<<<<< HEAD
fix_textgrids_in_directory("/Users/catalinat/Desktop/new/NewTextGrids")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalinat/Desktop/new/NewTextGrids")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalinat/Desktop/new/NewTextGrids")
=======
fix_textgrids_in_directory("/Users/catalinat/Desktop/NEU/Girls_1/NEW")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalinat/Desktop/NEU/Girls_2/NEW")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalinat/Desktop/NEU/Boys_2/NEW")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalinat/Desktop/NEU/Boys_1/NEW")
>>>>>>> 158b185c388aa2f9b343c237962d5b01b4f3ed6c
remove_text_from_tier_2 <- function(source_file){
text_grid <-  readLines(source_file)
new_text_grid = c()
in_tier_2 <- FALSE
for (row in text_grid){
if(grepl("item [2]:", row, fixed=TRUE)){
in_tier_2 <- TRUE
}
if(grepl("item [3]:", row, fixed=TRUE)){
in_tier_2 <- FALSE
}
if(in_tier_2){
row <- gsub("text = \".*\"", "text = \"\"", row)
}
new_text_grid <- c(new_text_grid, row)
}
dest_dir <- paste(dirname(source_file), "fixed", sep = '/')
dir.create(dest_dir, showWarnings = FALSE)
dest_file <- paste(dest_dir, basename(source_file), sep = '/')
fileConn<-file(dest_file)
writeLines(new_text_grid, fileConn)
close(fileConn)
sprintf("File %s fixed and saved to %s",source_file, dest_file)
}
fix_textgrids_in_directory <- function(directory){
for (f in list.files(directory, full.names = TRUE, pattern = ".+TextGrid")) {
remove_text_from_tier_2(f)
}
}
<<<<<<< HEAD
# Select directory to be used
fix_textgrids_in_directory("/Users/catalinat/Desktop/NEU/Girls_1/NEW")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalinat/Desktop/NEU/Girls_2/NEW")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalinat/Desktop/NEU/Boys_2/NEW")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalinat/Desktop/NEU/Boys_1/NEW")
=======
fix_textgrids_in_directory("/Users/catalinat/Desktop/TextGrids")
>>>>>>> 158b185c388aa2f9b343c237962d5b01b4f3ed6c
remove_text_from_tier_2 <- function(source_file){
text_grid <-  readLines(source_file)
new_text_grid = c()
in_tier_2 <- FALSE
for (row in text_grid){
if(grepl("item [2]:", row, fixed=TRUE)){
in_tier_2 <- TRUE
}
if(grepl("item [3]:", row, fixed=TRUE)){
in_tier_2 <- FALSE
}
if(in_tier_2){
row <- gsub("text = \".*\"", "text = \"\"", row)
}
new_text_grid <- c(new_text_grid, row)
}
dest_dir <- paste(dirname(source_file), "fixed", sep = '/')
dir.create(dest_dir, showWarnings = FALSE)
dest_file <- paste(dest_dir, basename(source_file), sep = '/')
fileConn<-file(dest_file)
writeLines(new_text_grid, fileConn)
close(fileConn)
sprintf("File %s fixed and saved to %s",source_file, dest_file)
}
fix_textgrids_in_directory <- function(directory){
for (f in list.files(directory, full.names = TRUE, pattern = ".+TextGrid")) {
remove_text_from_tier_2(f)
}
}
fix_textgrids_in_directory("/Users/catalinat/Desktop/TextGrids")
remove_text_from_tier_2 <- function(source_file){
text_grid <-  readLines(source_file)
new_text_grid = c()
in_tier_2 <- FALSE
for (row in text_grid){
if(grepl("item [2]:", row, fixed=TRUE)){
in_tier_2 <- TRUE
}
if(grepl("item [3]:", row, fixed=TRUE)){
in_tier_2 <- FALSE
}
if(in_tier_2){
row <- gsub("text = \".*\"", "text = \"\"", row)
}
new_text_grid <- c(new_text_grid, row)
}
dest_dir <- paste(dirname(source_file), "fixed", sep = '/')
dir.create(dest_dir, showWarnings = FALSE)
dest_file <- paste(dest_dir, basename(source_file), sep = '/')
fileConn<-file(dest_file)
writeLines(new_text_grid, fileConn)
close(fileConn)
sprintf("File %s fixed and saved to %s",source_file, dest_file)
}
# Find multiple files in directory
fix_textgrids_in_directory <- function(directory){
for (f in list.files(directory, full.names = TRUE, pattern = ".+TextGrid")) {
remove_text_from_tier_2(f)
}
}
# Select directory to be used
fix_textgrids_in_directory("/Users/catalinat/Desktop/TextGrids")
remove_text_from_tier_2 <- function(source_file){
text_grid <-  readLines(source_file)
new_text_grid = c()
in_tier_2 <- FALSE
for (row in text_grid){
if(grepl("item [2]:", row, fixed=TRUE)){
in_tier_2 <- TRUE
}
if(grepl("item [3]:", row, fixed=TRUE)){
in_tier_2 <- FALSE
}
if(in_tier_2){
row <- gsub("text = \".*\"", "text = \"\"", row)
}
new_text_grid <- c(new_text_grid, row)
}
dest_dir <- paste(dirname(source_file), "fixed", sep = '/')
dir.create(dest_dir, showWarnings = FALSE)
dest_file <- paste(dest_dir, basename(source_file), sep = '/')
fileConn<-file(dest_file)
writeLines(new_text_grid, fileConn)
close(fileConn)
sprintf("File %s fixed and saved to %s",source_file, dest_file)
}
# Find multiple files in directory
fix_textgrids_in_directory <- function(directory){
for (f in list.files(directory, full.names = TRUE, pattern = ".+TextGrid")) {
remove_text_from_tier_2(f)
}
}
# Select directory to be used
fix_textgrids_in_directory("/Users/catalinat/Desktop/TextGrids")
remove_text_from_tier_2 <- function(source_file){
text_grid <-  readLines(source_file)
new_text_grid = c()
in_tier_2 <- FALSE
for (row in text_grid){
if(grepl("item [2]:", row, fixed=TRUE)){
in_tier_2 <- TRUE
}
if(grepl("item [3]:", row, fixed=TRUE)){
in_tier_2 <- FALSE
}
if(in_tier_2){
row <- gsub("text = \".*\"", "text = \"\"", row)
}
new_text_grid <- c(new_text_grid, row)
}
dest_dir <- paste(dirname(source_file), "fixed", sep = '/')
dir.create(dest_dir, showWarnings = FALSE)
dest_file <- paste(dest_dir, basename(source_file), sep = '/')
fileConn<-file(dest_file)
writeLines(new_text_grid, fileConn)
close(fileConn)
sprintf("File %s fixed and saved to %s",source_file, dest_file)
}
fix_textgrids_in_directory <- function(directory){
for (f in list.files(directory, full.names = TRUE, pattern = ".+TextGrid")) {
remove_text_from_tier_2(f)
}
}
fix_textgrids_in_directory("/Users/catalinat/Desktop/TextGrids")
remove_text_from_tier_2 <- function(source_file){
text_grid <-  readLines(source_file)
new_text_grid = c()
in_tier_2 <- FALSE
for (row in text_grid){
if(grepl("item [2]:", row, fixed=TRUE)){
in_tier_2 <- TRUE
}
if(grepl("item [3]:", row, fixed=TRUE)){
in_tier_2 <- FALSE
}
if(in_tier_2){
row <- gsub("text = \".*\"", "text = \"\"", row)
}
new_text_grid <- c(new_text_grid, row)
}
dest_dir <- paste(dirname(source_file), "fixed", sep = '/')
dir.create(dest_dir, showWarnings = FALSE)
dest_file <- paste(dest_dir, basename(source_file), sep = '/')
fileConn<-file(dest_file)
writeLines(new_text_grid, fileConn)
close(fileConn)
sprintf("File %s fixed and saved to %s",source_file, dest_file)
}
fix_textgrids_in_directory <- function(directory){
for (f in list.files(directory, full.names = TRUE, pattern = ".+TextGrid")) {
remove_text_from_tier_2(f)
}
}
fix_textgrids_in_directory("/Users/catalinat/Desktop/TextGrids")
remove_text_from_tier_2 <- function(source_file){
text_grid <-  readLines(source_file)
new_text_grid = c()
in_tier_2 <- FALSE
for (row in text_grid){
if(grepl("item [3]:", row, fixed=TRUE)){
in_tier_2 <- TRUE
}
if(grepl("item [4]:", row, fixed=TRUE)){
in_tier_2 <- FALSE
}
if(in_tier_2){
row <- gsub("text = \".*\"", "text = \"\"", row)
}
new_text_grid <- c(new_text_grid, row)
}
dest_dir <- paste(dirname(source_file), "fixed", sep = '/')
dir.create(dest_dir, showWarnings = FALSE)
dest_file <- paste(dest_dir, basename(source_file), sep = '/')
fileConn<-file(dest_file)
writeLines(new_text_grid, fileConn)
close(fileConn)
sprintf("File %s fixed and saved to %s",source_file, dest_file)
}
fix_textgrids_in_directory <- function(directory){
for (f in list.files(directory, full.names = TRUE, pattern = ".+TextGrid")) {
remove_text_from_tier_2(f)
}
}
fix_textgrids_in_directory("/Users/catalinat/Desktop/TextGrids")
remove_text_from_tier_2 <- function(source_file){
text_grid <-  readLines(source_file)
new_text_grid = c()
in_tier_2 <- FALSE
for (row in text_grid){
if(grepl("item [3]:", row, fixed=TRUE)){
in_tier_2 <- TRUE
}
if(grepl("item [4]:", row, fixed=TRUE)){
in_tier_2 <- FALSE
}
if(in_tier_2){
row <- gsub("text = \".*\"", "text = \"\"", row)
}
new_text_grid <- c(new_text_grid, row)
}
dest_dir <- paste(dirname(source_file), "fixed", sep = '/')
dir.create(dest_dir, showWarnings = FALSE)
dest_file <- paste(dest_dir, basename(source_file), sep = '/')
fileConn<-file(dest_file)
writeLines(new_text_grid, fileConn)
close(fileConn)
sprintf("File %s fixed and saved to %s",source_file, dest_file)
}
fix_textgrids_in_directory <- function(directory){
for (f in list.files(directory, full.names = TRUE, pattern = ".+TextGrid")) {
remove_text_from_tier_2(f)
}
}
fix_textgrids_in_directory("/Users/catalinat/Desktop/TextGrids")
remove_text_from_tier_5 <- function(source_file){
text_grid <-  readLines(source_file)
new_text_grid = c()
in_tier_5 <- FALSE
for (row in text_grid){
if(grepl("item [5]:", row, fixed=TRUE)){
in_tier_5 <- TRUE
}
if(grepl("item [6]:", row, fixed=TRUE)){
in_tier_5 <- FALSE
}
if(in_tier_5){
row <- gsub("text = \".*\"", "text = \"\"", row)
}
new_text_grid <- c(new_text_grid, row)
}
dest_dir <- paste(dirname(source_file), "fixed", sep = '/')
dir.create(dest_dir, showWarnings = FALSE)
dest_file <- paste(dest_dir, basename(source_file), sep = '/')
fileConn<-file(dest_file)
writeLines(new_text_grid, fileConn)
close(fileConn)
sprintf("File %s fixed and saved to %s",source_file, dest_file)
}
# Find multiple files in directory
fix_textgrids_in_directory <- function(directory){
for (f in list.files(directory, full.names = TRUE, pattern = ".+TextGrid")) {
remove_text_from_tier_5(f)
}
}
# Select directory to be used
fix_textgrids_in_directory("/Users/catalina/Desktop/Pitjantjara_ConverbProsody/data-30.08.2021/Ana3-batches/Batch 02")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalina/Desktop/Pitjantjara_ConverbProsody/data-30.08.2021/Ana3-batches/Batch 03")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalina/Desktop/Pitjantjara_ConverbProsody/data-30.08.2021/Ana3-batches/Batch 04")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalina/Desktop/Pitjantjara_ConverbProsody/data-30.08.2021/Ana3-batches/Batch 05")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalina/Desktop/Pitjantjara_ConverbProsody/data-30.08.2021/Ana3-batches/Batch 06")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalina/Desktop/Pitjantjara_ConverbProsody/data-30.08.2021/Ana3-batches/Batch 07")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalina/Desktop/Pitjantjara_ConverbProsody/data-30.08.2021/Ana3-batches/Batch 08")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalina/Desktop/Pitjantjara_ConverbProsody/data-30.08.2021/Ana3-batches/Batch 09")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalina/Desktop/Pitjantjara_ConverbProsody/data-30.08.2021/Ana3-batches/Batch 10")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalina/Desktop/Pitjantjara_ConverbProsody/data-30.08.2021/Ana3-batches/Batch 11")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalina/Desktop/Pitjantjara_ConverbProsody/data-30.08.2021/Ana3-batches/Batch 12")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalina/Desktop/Pitjantjara_ConverbProsody/data-30.08.2021/Ana3-batches/Batch 13")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalina/Desktop/Pitjantjara_ConverbProsody/data-30.08.2021/Ana3-batches/Batch 14")#fix_textgrids_in_directory("/Users/catalinat/Desktop/TEST-MAUS/regex-test")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalina/Desktop/Pitjantjara_ConverbProsody/data-30.08.2021/Ana3-batches/Batch 15")#fix_textgrids_in_directory("/Users/catalinat/Desktop/TEST-MAUS/regex-test")
add_P_to_token_tier4 <- function(source_file){
text_grid <-  readLines(source_file)
new_text_grid = c()
in_tier_5 <- FALSE
for (row in text_grid){
if(grepl("item [5]:", row, fixed=TRUE)){
in_tier_5 <- TRUE
}
if(grepl("item [6]:", row, fixed=TRUE)){
in_tier_5 <- FALSE
}
if(grepl("item [4]:", row, fixed=TRUE)){
in_tier_4 <- TRUE
}
if(grepl("item [5]:", row, fixed=TRUE)){
in_tier_4 <- FALSE
}
if(in_tier_5){
row <- (grepl("text = "<p:>"", row))
}
return(in_tier_4){
row <- gsub("text = \".*\"", "text = "P"", row)
}
new_text_grid <- c(new_text_grid, row)
}
dest_dir <- paste(dirname(source_file), "pauses", sep = '/')
dir.create(dest_dir, showWarnings = FALSE)
dest_file <- paste(dest_dir, basename(source_file), sep = '/')
fileConn<-file(dest_file)
writeLines(new_text_grid, fileConn)
close(fileConn)
sprintf("File %s fixed and saved to %s",source_file, dest_file)
}
add_P_to_token_tier4 <- function(source_file){
remove_text_from_tier_5 <- function(source_file){
text_grid <-  readLines(source_file)
new_text_grid = c()
in_tier_5 <- FALSE
for (row in text_grid){
if(grepl("item [5]:", row, fixed=TRUE)){
in_tier_5 <- TRUE
}
if(grepl("item [6]:", row, fixed=TRUE)){
in_tier_5 <- FALSE
}
if(in_tier_5){
row <- gsub("text = \".*\"", "text = \"\"", row)
}
new_text_grid <- c(new_text_grid, row)
}
dest_dir <- paste(dirname(source_file), "fixed", sep = '/')
dir.create(dest_dir, showWarnings = FALSE)
dest_file <- paste(dest_dir, basename(source_file), sep = '/')
fileConn<-file(dest_file)
writeLines(new_text_grid, fileConn)
close(fileConn)
sprintf("File %s fixed and saved to %s",source_file, dest_file)
}
# Find multiple files in directory
fix_textgrids_in_directory <- function(directory){
for (f in list.files(directory, full.names = TRUE, pattern = ".+TextGrid")) {
remove_text_from_tier_5(f)
}
}
# Select directory to be used
fix_textgrids_in_directory("/Users/catalina/Desktop/Pitjantjara_ConverbProsody/data-30.08.2021/Ana3-batches/Batch 16")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalina/Desktop/Pitjantjara_ConverbProsody/data-30.08.2021/Ana3-batches/Batch 17")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalina/Desktop/Pitjantjara_ConverbProsody/data-30.08.2021/Ana3-batches/Batch 18")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalina/Desktop/Pitjantjara_ConverbProsody/data-30.08.2021/Ana3-batches/Batch 19")
# Select directory to be used
fix_textgrids_in_directory("/Users/catalina/Desktop/Pitjantjara_ConverbProsody/data-30.08.2021/Ana3-batches/Batch 20")
